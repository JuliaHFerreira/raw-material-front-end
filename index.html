<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raw Material Stock - Dashboard</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body data-lang="pt">
    <!-- Language Selector -->
    <div class="language-selector">
        <button class="language-button active" data-lang="pt" title="Portugu√™s">
            üáßüá∑ PT
        </button>
        <button class="language-button" data-lang="en" title="English">
            üá∫üá∏ EN
        </button>
    </div>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <i class="fas fa-cloud"></i>
            <h2 data-translate="app-name">Raw Material Stock</h2>
        </div>
        <nav class="sidebar-navigation">
            <a href="#" class="navigation-item active" data-page="dashboard">
                <i class="fas fa-chart-line"></i>
                <span data-translate="menu-dashboard">Dashboard</span>
            </a>
            <a href="#" class="navigation-item" data-page="products">
                <i class="fas fa-box"></i>
                <span data-translate="menu-products">Produtos</span>
            </a>
            <a href="#" class="navigation-item" data-page="raw-materials">
                <i class="fas fa-cubes"></i>
                <span data-translate="menu-raw-materials">Mat√©ria-Prima</span>
            </a>
            <a href="#" class="navigation-item" data-page="structure">
                <i class="fas fa-sitemap"></i>
                <span data-translate="menu-structure">Estrutura</span>
            </a>
            <a href="#" class="navigation-item dropdown-toggle">
                <i class="fas fa-industry"></i>
                <span data-translate="menu-manufacturing">Manufatura</span>
                <i class="fas fa-chevron-down dropdown-icon"></i>
            </a>
            <div class="dropdown-menu">
                <a href="#" class="navigation-item sub-item" data-page="stock">
                    <i class="fas fa-warehouse"></i>
                    <span data-translate="menu-stock">Estoque</span>
                </a>
                <a href="#" class="navigation-item sub-item" data-page="available-production">
                    <i class="fas fa-chart-bar"></i>
                    <span data-translate="menu-available-production">Dispon√≠vel Produ√ß√£o</span>
                </a>
                <a href="#" class="navigation-item sub-item" data-page="production">
                    <i class="fas fa-cogs"></i>
                    <span data-translate="menu-production">Produ√ß√£o</span>
                </a>
            </div>
        </nav>
        <div class="sidebar-footer">
            <i class="fas fa-user-circle"></i>
        </div>
    </aside>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Main Content -->
    <main class="main-content">
        <header class="top-header">
            <h1 id="pageTitle" data-translate="page-title-dashboard">Dashboard</h1>
        </header>

        <!-- Dashboard Page -->
        <div id="dashboard-page" class="page active">
            <div class="cards-container">
                <div class="info-card">
                    <div class="card-icon">
                        <i class="fas fa-box"></i>
                    </div>
                    <div class="card-content">
                        <p class="card-label" data-translate="dashboard-total-products">Quantidade de Produtos Cadastrados</p>
                        <h3 class="card-value" id="totalProducts">0</h3>
                    </div>
                </div>

                <div class="info-card">
                    <div class="card-icon">
                        <i class="fas fa-cubes"></i>
                    </div>
                    <div class="card-content">
                        <p class="card-label" data-translate="dashboard-total-raw-materials">Quantidade de Mat√©rias-Primas Cadastradas</p>
                        <h3 class="card-value" id="totalRawMaterials">0</h3>
                    </div>
                </div>

                <div class="info-card">
                    <div class="card-icon">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="card-content">
                        <p class="card-label" data-translate="dashboard-total-cost">Custo Total de Produtos</p>
                        <h3 class="card-value" id="totalCost">R$ 0</h3>
                    </div>
                </div>
            </div>

            <div class="shortcuts-section">
                <h2 data-translate="shortcuts">Atalhos</h2>
                <div class="shortcuts-grid">
                    <div class="shortcut-card" data-page="products">
                        <i class="fas fa-box"></i>
                        <button class="button-primary" data-translate="shortcut-products">Cadastro de Produtos</button>
                    </div>
                    <div class="shortcut-card" data-page="raw-materials">
                        <i class="fas fa-cubes"></i>
                        <button class="button-primary" data-translate="shortcut-raw-materials">Cadastro de Mat√©ria-Prima</button>
                    </div>
                    <div class="shortcut-card" data-page="structure">
                        <i class="fas fa-sitemap"></i>
                        <button class="button-primary" data-translate="shortcut-structure">Gerenciar Estrutura de Produtos</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Products Page -->
        <div id="products-page" class="page">
            <div class="page-header">
                <h2 data-translate="products-management">Gerenciamento de Produtos</h2>
                <button class="button-primary" id="btnNewProduct">
                    <i class="fas fa-plus"></i> <span data-translate="new-product">Novo Produto</span>
                </button>
            </div>

            <div class="table-container">
                <div class="search-bar">
                    <input type="text" id="searchProducts" data-translate-placeholder="search-products" placeholder="Buscar produtos...">
                    <i class="fas fa-search"></i>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th data-translate="table-code">C√≥digo</th>
                            <th data-translate="table-description">Descri√ß√£o</th>
                            <th data-translate="table-type">Tipo</th>
                            <th data-translate="table-barcode">C√≥digo de Barras</th>
                            <th data-translate="table-price">Pre√ßo</th>
                            <th data-translate="table-actions">A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="productsTableBody">
                        <tr>
                            <td colspan="6" class="no-data" data-translate="no-products">Nenhum produto cadastrado</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Raw Materials Page -->
        <div id="raw-materials-page" class="page">
            <div class="page-header">
                <h2 data-translate="raw-materials-management">Gerenciamento de Mat√©ria-Prima</h2>
                <button class="button-primary" id="btnNewRawMaterial">
                    <i class="fas fa-plus"></i> <span data-translate="new-raw-material">Nova Mat√©ria-Prima</span>
                </button>
            </div>

            <div class="table-container">
                <div class="search-bar">
                    <input type="text" id="searchRawMaterials" data-translate-placeholder="search-raw-materials" placeholder="Buscar mat√©rias-primas...">
                    <i class="fas fa-search"></i>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th data-translate="table-code">C√≥digo</th>
                            <th data-translate="table-description">Descri√ß√£o</th>
                            <th data-translate="table-type">Tipo</th>
                            <th data-translate="table-barcode">C√≥digo de Barras</th>
                            <th data-translate="table-cost">Custo</th>
                            <th data-translate="table-actions">A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="rawMaterialsTableBody">
                        <tr>
                            <td colspan="6" class="no-data" data-translate="no-raw-materials">Nenhuma mat√©ria-prima cadastrada</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Structure Page -->
        <div id="structure-page" class="page">
            <div class="page-header">
                <h2 data-translate="structure-management">Estrutura de Produtos</h2>
                <button class="button-primary" id="btnNewStructure">
                    <i class="fas fa-plus"></i> <span data-translate="new-structure">Nova Estrutura</span>
                </button>
            </div>

            <div class="table-container">
                <div class="search-bar">
                    <input type="text" id="searchStructures" data-translate-placeholder="search-structures" placeholder="Buscar estruturas...">
                    <i class="fas fa-search"></i>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th data-translate="table-product-code">C√≥digo Produto</th>
                            <th data-translate="table-raw-code">C√≥digo Mat√©ria-Prima</th>
                            <th data-translate="table-quantity">Quantidade</th>
                            <th data-translate="table-loss">Perda (%)</th>
                            <th data-translate="table-actions">A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="structuresTableBody">
                        <tr>
                            <td colspan="6" class="no-data" data-translate="no-structures">Nenhuma estrutura cadastrada</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Stock Page -->
        <div id="stock-page" class="page">
            <div class="page-header">
                <h2 data-translate="stock-management">Controle de Estoque</h2>
            </div>

            <div class="table-container">
                <div class="search-bar">
                    <input type="text" id="searchStock" data-translate-placeholder="search-stock" placeholder="Buscar no estoque...">
                    <i class="fas fa-search"></i>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th data-translate="table-code">C√≥digo</th>
                            <th data-translate="table-description">Descri√ß√£o</th>
                            <th data-translate="table-barcode">C√≥digo de Barras</th>
                            <th data-translate="table-stock-quantity">Quantidade em Estoque</th>
                            <th data-translate="table-actions">A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="stockTableBody">
                        <tr>
                            <td colspan="5" class="no-data" data-translate="no-stock">Nenhum item em estoque</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Available Production Page -->
        <div id="available-production-page" class="page">
            <div class="page-header">
                <h2 data-translate="available-production-title">Disponibilidade para Produ√ß√£o</h2>
                <button class="button-primary" id="btnRefreshProduction">
                    <i class="fas fa-sync-alt"></i> <span data-translate="refresh">Atualizar</span>
                </button>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th data-translate="table-product-code">C√≥digo Produto</th>
                            <th data-translate="table-description">Descri√ß√£o</th>
                            <th data-translate="table-available-quantity">Dispon√≠vel Produ√ß√£o</th>
                            <th data-translate="table-structure">Estrutura</th>
                            <th data-translate="table-status">Status</th>
                        </tr>
                    </thead>
                    <tbody id="availableProductionTableBody">
                        <tr>
                            <td colspan="4" class="no-data" data-translate="loading">Carregando...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Production Page -->
        <div id="production-page" class="page">
            <div class="page-header">
                <h2 data-translate="production-title">Produ√ß√£o</h2>
            </div>

            <div class="production-form-container">
                <form id="productionForm">
                    <div class="form-group">
                        <label for="productionCode" data-translate="form-product-code">C√≥digo do Produto/Mat√©ria-Prima</label>
                        <input type="text" id="productionCode" required>
                    </div>

                    <div class="form-group">
                        <label for="productionBarcode" data-translate="form-barcode">C√≥digo de Barras (EAN 13)</label>
                        <input type="text" id="productionBarcode" maxlength="13" required>
                    </div>

                    <div class="form-group">
                        <label for="productionQuantity" data-translate="form-quantity">Quantidade</label>
                        <input type="number" id="productionQuantity" step="0.01" required>
                    </div>

                    <div class="form-group">
                        <label for="productionType" data-translate="form-movement-type">Tipo de Movimenta√ß√£o</label>
                        <select id="productionType" required>
                            <option value="" data-translate="select">Selecione...</option>
                            <option value="ENTRY" data-translate="entry">Entrada (ENTRY)</option>
                            <option value="OUTPUT" data-translate="output">Sa√≠da (OUTPUT)</option>
                        </select>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="button-primary">
                            <i class="fas fa-check"></i> <span data-translate="execute-movement">Executar Movimenta√ß√£o</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- Modal for Product Form -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="productModalTitle" data-translate="new-product">Novo Produto</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="productForm">
                <input type="hidden" id="productId">
                <div class="form-group">
                    <label for="productCode" data-translate="form-code">C√≥digo*</label>
                    <input type="text" id="productCode" required>
                </div>
                <div class="form-group">
                    <label for="productDescription" data-translate="form-description">Descri√ß√£o* (m√°x. 90 caracteres)</label>
                    <input type="text" id="productDescription" maxlength="90" required>
                </div>
                <div class="form-group">
                    <label for="productType" data-translate="form-product-type">Tipo de Produto*</label>
                    <input type="text" id="productType" value="FP" required>
                </div>
                <div class="form-group">
                    <label for="productBarcode" data-translate="form-barcode-ean">C√≥digo de Barras (EAN 13)*</label>
                    <input type="text" id="productBarcode" name="barcode" maxlength="13" required>
                </div>
                <div class="form-group">
                    <label for="productPrice" data-translate="form-price">Pre√ßo*</label>
                    <input type="number" id="productPrice" name="price" step="0.01" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="button-secondary close-modal" data-translate="cancel">Cancelar</button>
                    <button type="submit" class="button-primary" data-translate="save">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for Raw Material Form -->
    <div id="rawMaterialModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="rawMaterialModalTitle" data-translate="new-raw-material">Nova Mat√©ria-Prima</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="rawMaterialForm">
                <input type="hidden" id="rawMaterialId">
                <div class="form-group">
                    <label for="rawMaterialCode" data-translate="form-code">C√≥digo*</label>
                    <input type="text" id="rawMaterialCode" required>
                </div>
                <div class="form-group">
                    <label for="rawMaterialDescription" data-translate="form-description">Descri√ß√£o* (m√°x. 90 caracteres)</label>
                    <input type="text" id="rawMaterialDescription" maxlength="90" required>
                </div>
                <div class="form-group">
                    <label for="rawMaterialType" data-translate="form-product-type">Tipo de Produto*</label>
                    <input type="text" id="rawMaterialType" value="RAW" required>
                </div>
                <div class="form-group">
                    <label for="rawMaterialCodeBar" data-translate="form-barcode-ean">C√≥digo de Barras (EAN 13)*</label>
                    <input type="text" id="rawMaterialCodeBar" name="barcode" maxlength="13" required>
                </div>
                <div class="form-group">
                    <label for="rawMaterialCost" data-translate="form-cost">Custo*</label>
                    <input type="number" id="rawMaterialCost" name="cost" step="0.01" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="button-secondary close-modal" data-translate="cancel">Cancelar</button>
                    <button type="submit" class="button-primary" data-translate="save">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for Structure Form -->
    <div id="structureModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="structureModalTitle" data-translate="new-structure">Nova Estrutura</h3>
                <button class="close-modal">&times;</button>
            </div>
            <form id="structureForm">
                <input type="hidden" id="structureId">
                <div class="form-group">
                    <label for="structureProductCode" data-translate="form-product-code-label">C√≥digo do Produto*</label>
                    <input type="text" id="structureProductCode" required>
                </div>
                <div class="form-group">
                    <label for="structureRawCode" data-translate="form-raw-code">C√≥digo da Mat√©ria-Prima*</label>
                    <input type="text" id="structureRawCode" required>
                </div>
                <div class="form-group">
                    <label for="structureQuantity" data-translate="form-quantity-label">Quantidade*</label>
                    <input type="number" id="structureQuantity" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="structureLoss" data-translate="form-loss">Perda (%)*</label>
                    <input type="number" id="structureLoss" step="0.01" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="button-secondary close-modal" data-translate="cancel">Cancelar</button>
                    <button type="submit" class="button-primary" data-translate="save">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast"></div>

    <script src="scripts/translations/pt-br.js"></script>
    <script src="scripts/translations/en.js"></script>
    <script src="scripts/translations/translations.js"></script>

    <script src="scripts/app.js"></script>
    <script src="scripts/api.js"></script>
    <script src="scripts/ui.js"></script>

</body>
</html>
